{{!--
/**
 * Player Spell Book Footer Template
 *
 * PURPOSE:
 * Application footer for the player spell book interface providing spell preparation
 * tracking, wizard spell management, and action button controls. Displays different
 * content based on active tab type (wizard vs standard spellcasting) and provides
 * live updates of spell preparation status for optimal spell management.
 *
 * CONTEXT REQUIREMENTS:
 * @param {string} activeTab - Currently active tab identifier for conditional display
 * @param {boolean} wizardHasFreeSpells - Whether wizard has free spell slots available
 * @param {number} wizardRemainingFreeSpells - Number of free wizard spells remaining
 * @param {number} wizardTotalSpellbookCount - Total spells in wizard's spellbook
 * @param {Object} globalPrepared - Global spell preparation tracking
 * @param {number} globalPrepared.current - Currently prepared spells count
 * @param {number} globalPrepared.maximum - Maximum preparable spells
 * @param {Array<Object>} classPreparationData - Per-class preparation data
 * @param {string} classPreparationData[].identifier - Unique class identifier
 * @param {string} classPreparationData[].className - Display name for class
 * @param {number} classPreparationData[].current - Currently prepared for this class
 * @param {number} classPreparationData[].maximum - Maximum preparable for this class
 * @param {boolean} classPreparationData[].isActive - Whether this class is currently active
 * @param {Array<Object>} buttons - Action buttons configuration
 * @param {string} buttons[].type - Button HTML type attribute
 * @param {string} buttons[].name - Button name attribute (optional)
 * @param {string} buttons[].cssClass - CSS classes for button styling
 * @param {string} buttons[].action - Data action for click handling (optional)
 * @param {string} buttons[].tooltip - Tooltip localization key (optional)
 * @param {boolean} buttons[].disabled - Whether button is disabled
 * @param {string} buttons[].icon - Icon CSS classes for button (optional)
 * @param {string} buttons[].label - Label localization key (optional)
 * @param {string} buttons[].ariaLabel - Custom aria-label (optional)
 *
 * ACCESSIBILITY FEATURES:
 * - Footer element with proper contentinfo role for page structure
 * - Live regions (aria-live="polite") for dynamic spell count updates
 * - Toolbar role for button groups with descriptive aria-label
 * - Individual button elements with accessibility attributes
 * - Screen reader friendly preparation count displays with aria-label
 * - Icons marked as decorative with aria-hidden="true"
 *
 * CUSTOMIZATION POINTS:
 * - Wizard tab detection switches between different tracking displays
 * - Class-specific preparation counters adapt to multiclass characters
 * - Global preparation limit styling changes when at maximum
 * - Button configuration supports flexible action sets
 * - Preparation tracking updates live without page refresh
 *
 * INTEGRATION:
 * - Connects to PlayerSpellBook application for preparation tracking
 * - Uses custom isWizardTab helper for conditional wizard content
 * - Supports button actions through data-action attributes
 * - Integrates with spell preparation state management system
 * - Updates dynamically when spell preparation changes occur
 */
--}}

<footer role="contentinfo">
  {{#if (isWizardTab activeTab)}}
    <!-- Wizard Spell Book Tab - Free spells tracking and total count display -->
    <div class="spell-book-tracking" aria-live="polite">
      {{#if wizardHasFreeSpells}}
        <!-- Free Spells Remaining Display -->
        {{localize 'SPELLBOOK.Footer.FreeSpellsRemaining' count=wizardRemainingFreeSpells}}
      {{else}}
        <!-- Total Learned Spells Display -->
        {{localize 'SPELLBOOK.Footer.LearnedSpells' count=wizardTotalSpellbookCount}}
      {{/if}}
    </div>
  {{else}}
    <!-- Standard Spellcasting Tab - Preparation tracking for all other classes -->
    <div class="spell-prep-tracking {{#if (gte globalPrepared.current globalPrepared.maximum)}}at-max{{/if}}"
      aria-live="polite">

      <!-- Class-Specific Preparation Counters - Multiclass support -->
      {{#if classPreparationData}}
        <div class="class-prep-counts">
          {{#each classPreparationData as |classData|}}
            <span class="class-prep-count {{#if classData.isActive}}active-class{{/if}}"
              data-class-identifier="{{classData.identifier}}">
              <span class="class-name">{{classData.className}}</span>
              <span class="class-current">{{classData.current}}</span>/{{classData.maximum}}
            </span>
          {{/each}}
        </div>
      {{/if}}

      <!-- Global Preparation Total - Combined preparation across all classes -->
      <div class="global-prep-count">
        <span class="global-label">{{localize 'SPELLBOOK.Footer.PreparedLabel'}}</span>
        <span class="global-current-count" aria-label="{{localize 'SPELLBOOK.Footer.PreparedCount'}}">
          {{globalPrepared.current}}
        </span>/{{globalPrepared.maximum}}
      </div>
    </div>
  {{/if}}

  <!-- Footer Action Buttons - Configurable button toolbar -->
  <div class="footer-buttons" role="toolbar" aria-label="{{localize 'SPELLBOOK.Footer.Actions'}}">
    {{#each buttons as |button|}}
      <button type="{{button.type}}" {{#if button.name}}name="{{button.name}}" {{/if}}class="{{button.cssClass}}"
        {{#if button.action}}data-action="{{button.action}}" {{/if}}
        {{#if button.tooltip}}data-tooltip="{{localize button.tooltip}}" {{/if}} {{disabled button.disabled}}
        aria-label="{{#if button.ariaLabel}}{{button.ariaLabel}}{{else}}{{localize button.label}}{{/if}}">
        {{#if button.icon}}<i class="{{button.icon}}" aria-hidden="true"></i>{{/if}}
        {{#if button.label}}<span>{{localize button.label}}</span>{{/if}}
      </button>
    {{/each}}
  </div>
</footer>
